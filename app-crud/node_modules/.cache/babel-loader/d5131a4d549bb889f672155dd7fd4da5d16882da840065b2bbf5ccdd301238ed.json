{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, Fragment as _Fragment } from \"vue\";\nconst _hoisted_1 = {\n  class: \"flex-grow-1 p-4 bg-light\"\n};\nconst _hoisted_2 = {\n  key: 0,\n  class: \"alert alert-danger\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_SidebarComponent = _resolveComponent(\"SidebarComponent\");\n  const _component_ProductForm = _resolveComponent(\"ProductForm\");\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createCommentVNode(\" Barra superior \"), _createVNode(_component_SidebarComponent), _createElementVNode(\"div\", _hoisted_1, [_cache[0] || (_cache[0] = _createElementVNode(\"h3\", null, \"Crear producto\", -1 /* CACHED */)), $setup.error ? (_openBlock(), _createElementBlock(\"div\", _hoisted_2, _toDisplayString($setup.error), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true), _createVNode(_component_ProductForm, {\n    saving: $setup.saving,\n    onSubmit: $setup.submit,\n    onCancel: $setup.cancel\n  }, null, 8 /* PROPS */, [\"saving\", \"onSubmit\", \"onCancel\"])])], 64 /* STABLE_FRAGMENT */);\n}","map":{"version":3,"names":["class","_createCommentVNode","_createVNode","_component_SidebarComponent","_createElementVNode","_hoisted_1","$setup","error","_createElementBlock","_hoisted_2","_toDisplayString","_component_ProductForm","saving","onSubmit","submit","onCancel","cancel"],"sources":["C:\\Users\\SCIS2PC21\\Desktop\\1111\\trabajosDesarrolloWeb\\app-crud\\src\\views\\ProductCreateView.vue"],"sourcesContent":["<template>\r\n  <!-- Barra superior -->\r\n    <SidebarComponent />\r\n  <div class=\"flex-grow-1 p-4 bg-light\">\r\n    <h3>Crear producto</h3>\r\n\r\n    <div v-if=\"error\" class=\"alert alert-danger\">{{ error }}</div>\r\n\r\n    <ProductForm :saving=\"saving\" @submit=\"submit\" @cancel=\"cancel\" />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport SidebarComponent from '@/components/SidebarComponent.vue';\r\nimport { ref } from 'vue'\r\nimport productService from '@/services/productService'\r\nimport ProductForm from '@/components/ProductForm.vue'\r\nimport { useRouter } from 'vue-router'\r\n\r\nexport default {\r\n  components: { ProductForm, SidebarComponent },\r\n  setup() {\r\n    const saving = ref(false)\r\n    const error = ref(null)\r\n    const router = useRouter()\r\n\r\n    const submit = async (payload) => {\r\n      saving.value = true\r\n      error.value = null\r\n      try {\r\n        await productService.createProduct(payload)\r\n        router.push({ name: 'ProductList' })\r\n      } catch (err) {\r\n        error.value = 'Error creando producto'+err\r\n        console.error(err)\r\n      } finally {\r\n        saving.value = false\r\n      }\r\n    }\r\n\r\n    const cancel = () => {\r\n      router.push({ name: 'ProductList' })\r\n    }\r\n\r\n    return { saving, error, submit, cancel }\r\n  }\r\n}\r\n</script>"],"mappings":";;EAGOA,KAAK,EAAC;AAA0B;;;EAGjBA,KAAK,EAAC;;;;;6DAL1BC,mBAAA,oBAAuB,EACrBC,YAAA,CAAoBC,2BAAA,GACtBC,mBAAA,CAMM,OANNC,UAMM,G,0BALJD,mBAAA,CAAuB,YAAnB,gBAAc,qBAEPE,MAAA,CAAAC,KAAK,I,cAAhBC,mBAAA,CAA8D,OAA9DC,UAA8D,EAAAC,gBAAA,CAAdJ,MAAA,CAAAC,KAAK,oB,mCAErDL,YAAA,CAAkES,sBAAA;IAApDC,MAAM,EAAEN,MAAA,CAAAM,MAAM;IAAGC,QAAM,EAAEP,MAAA,CAAAQ,MAAM;IAAGC,QAAM,EAAET,MAAA,CAAAU","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}