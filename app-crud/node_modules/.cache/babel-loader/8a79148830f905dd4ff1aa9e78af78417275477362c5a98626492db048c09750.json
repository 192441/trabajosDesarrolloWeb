{"ast":null,"code":"import { reactive, toRefs, watch } from 'vue';\nexport default {\n  props: {\n    product: {\n      type: Object,\n      default: null\n    },\n    saving: {\n      type: Boolean,\n      default: false\n    }\n  },\n  setup(props, {\n    emit\n  }) {\n    const local = reactive({\n      title: '',\n      price: null,\n      category: '',\n      description: ''\n    });\n    const resetFromProps = () => {\n      if (props.product) {\n        local.name = props.product.name ?? '';\n        local.price = props.product.price ?? null;\n        local.category = props.product.category ?? '';\n        local.description = props.product.description ?? '';\n      } else {\n        local.name = '';\n        local.price = null;\n        local.category = '';\n        local.description = '';\n      }\n    };\n    watch(() => props.product, resetFromProps, {\n      immediate: true\n    });\n    function onSubmit() {\n      // validaciones adicionales si se requieren\n      emit('submit', {\n        ...local\n      });\n    }\n    return {\n      ...toRefs(local),\n      local,\n      onSubmit\n    };\n  }\n};","map":{"version":3,"names":["reactive","toRefs","watch","props","product","type","Object","default","saving","Boolean","setup","emit","local","title","price","category","description","resetFromProps","name","immediate","onSubmit"],"sources":["C:\\Users\\SCIS2PC21\\Desktop\\1111\\trabajosDesarrolloWeb\\app-crud\\src\\components\\ProductForm.vue"],"sourcesContent":["<template>\r\n  <form @submit.prevent=\"onSubmit\">\r\n    <div class=\"mb-3\">\r\n      <label class=\"form-label\">Nombre</label>\r\n      <input v-model=\"local.name\" required class=\"form-control\" />\r\n    </div>\r\n\r\n    <div class=\"mb-3 row\">\r\n      <div class=\"col\">\r\n        <label class=\"form-label\">Precio</label>\r\n        <input v-model.number=\"local.price\" type=\"number\" step=\"0.01\" min=\"0\" required class=\"form-control\" />\r\n      </div>\r\n      <div class=\"col\">\r\n        <label class=\"form-label\">Categoría</label>\r\n        <input v-model=\"local.category\" class=\"form-control\" />\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"mb-3\">\r\n      <label class=\"form-label\">Descripción</label>\r\n      <textarea v-model=\"local.description\" rows=\"3\" class=\"form-control\"></textarea>\r\n    </div>\r\n\r\n    <div class=\"d-flex justify-content-end\">\r\n      <button type=\"button\" class=\"btn btn-secondary me-2\" @click=\"$emit('cancel')\">Cancelar</button>\r\n      <button type=\"submit\" class=\"btn btn-primary\" :disabled=\"saving\">\r\n        <span v-if=\"saving\" class=\"spinner-border spinner-border-sm me-2\" role=\"status\" aria-hidden=\"true\"></span>\r\n        Guardar\r\n      </button>\r\n    </div>\r\n  </form>\r\n</template>\r\n\r\n<script>\r\nimport { reactive, toRefs, watch } from 'vue'\r\n\r\nexport default {\r\n  props: {\r\n    product: {\r\n      type: Object,\r\n      default: null\r\n    },\r\n    saving: {\r\n      type: Boolean,\r\n      default: false\r\n    }\r\n  },\r\n  setup(props, { emit }) {\r\n    const local = reactive({\r\n      title: '',\r\n      price: null,\r\n      category: '',\r\n      description: ''\r\n    })\r\n\r\n    const resetFromProps = () => {\r\n      if (props.product) {\r\n        local.name = props.product.name ?? ''\r\n        local.price = props.product.price ?? null\r\n        local.category = props.product.category ?? ''\r\n        local.description = props.product.description ?? ''\r\n      } else {\r\n        local.name = ''\r\n        local.price = null\r\n        local.category = ''\r\n        local.description = ''\r\n      }\r\n    }\r\n\r\n    watch(() => props.product, resetFromProps, { immediate: true })\r\n\r\n    function onSubmit() {\r\n      // validaciones adicionales si se requieren\r\n      emit('submit', { ...local })\r\n    }\r\n\r\n    return { ...toRefs(local), local, onSubmit }\r\n  }\r\n}\r\n</script>"],"mappings":"AAkCA,SAASA,QAAQ,EAAEC,MAAM,EAAEC,KAAI,QAAS,KAAI;AAE5C,eAAe;EACbC,KAAK,EAAE;IACLC,OAAO,EAAE;MACPC,IAAI,EAAEC,MAAM;MACZC,OAAO,EAAE;IACX,CAAC;IACDC,MAAM,EAAE;MACNH,IAAI,EAAEI,OAAO;MACbF,OAAO,EAAE;IACX;EACF,CAAC;EACDG,KAAKA,CAACP,KAAK,EAAE;IAAEQ;EAAK,CAAC,EAAE;IACrB,MAAMC,KAAI,GAAIZ,QAAQ,CAAC;MACrBa,KAAK,EAAE,EAAE;MACTC,KAAK,EAAE,IAAI;MACXC,QAAQ,EAAE,EAAE;MACZC,WAAW,EAAE;IACf,CAAC;IAED,MAAMC,cAAa,GAAIA,CAAA,KAAM;MAC3B,IAAId,KAAK,CAACC,OAAO,EAAE;QACjBQ,KAAK,CAACM,IAAG,GAAIf,KAAK,CAACC,OAAO,CAACc,IAAG,IAAK,EAAC;QACpCN,KAAK,CAACE,KAAI,GAAIX,KAAK,CAACC,OAAO,CAACU,KAAI,IAAK,IAAG;QACxCF,KAAK,CAACG,QAAO,GAAIZ,KAAK,CAACC,OAAO,CAACW,QAAO,IAAK,EAAC;QAC5CH,KAAK,CAACI,WAAU,GAAIb,KAAK,CAACC,OAAO,CAACY,WAAU,IAAK,EAAC;MACpD,OAAO;QACLJ,KAAK,CAACM,IAAG,GAAI,EAAC;QACdN,KAAK,CAACE,KAAI,GAAI,IAAG;QACjBF,KAAK,CAACG,QAAO,GAAI,EAAC;QAClBH,KAAK,CAACI,WAAU,GAAI,EAAC;MACvB;IACF;IAEAd,KAAK,CAAC,MAAMC,KAAK,CAACC,OAAO,EAAEa,cAAc,EAAE;MAAEE,SAAS,EAAE;IAAK,CAAC;IAE9D,SAASC,QAAQA,CAAA,EAAG;MAClB;MACAT,IAAI,CAAC,QAAQ,EAAE;QAAE,GAAGC;MAAM,CAAC;IAC7B;IAEA,OAAO;MAAE,GAAGX,MAAM,CAACW,KAAK,CAAC;MAAEA,KAAK;MAAEQ;IAAS;EAC7C;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}